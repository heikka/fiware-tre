{"version":3,"sources":["components/Logo/Logo.tsx","components/Navigation/NavigationItems/NavigationItem/NavigationItem.tsx","components/Navigation/NavigationItems/NavigationItems.tsx","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.tsx","components/Navigation/Toolbar/Toolbar.tsx","components/Navigation/SideDrawer/SideDrawer.tsx","store/point/pointactiontypes.ts","store/point/pointactions.ts","components/Navigation/ToolDrawer/ToolDrawer.tsx","components/maps/tampere/TampereMap.tsx","hoc/Layout/Layout.tsx","components/Vision/VisionControls/VisionControls.tsx","components/Navigation/UI/Backdrop.tsx","components/UI/Modal/Modal.tsx","views/CityVision/CityVision.tsx","App.tsx","serviceWorker.ts","store/map/mapreducers.ts","store/point/pointreducers.ts","index.tsx","store/map/mapactiontypes.ts","assets/images/Capelon.png"],"names":["Logo","_ref","height","react_default","a","createElement","className","style","href","src","logoImage","alt","navigationItem","link","active","children","NavigationItems","NavigationItem","DrawerToggle","clicked","onClick","Toolbar","drawerToggleClicked","DrawerToggle_DrawerToggle","Logo_Logo","NavigationItems_NavigationItems","SideDrawer","open","attachedClasses","closed","Fragment","join","SELECT_MAP_ID","UNSELECT_MAP_ID","CLEAR_MAP_POINTS","clearMapPoints","type","mapContainer","connect","state","ownProps","selectedMapPoints","point","dispatch","onMapPointClear","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","doOpen","setDoOpen","useEffect","length","map","mapPoint","index","key","Layout","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","showSideDrawer","showToolDrawer","sideDrawerClosedHandler","setState","sideDrawerToggleHandler","prevState","toolDrawerClosedHandler","toolDrawerToggleHandler","inherits","createClass","value","Toolbar_Toolbar","SideDrawer_SideDrawer","Navigation_ToolDrawer_ToolDrawer","props","Component","VisionControls","Backdrop","show","Modal","modalClosed","Backdrop_Backdrop","transform","opacity","mapboxgl","require","MapboxDraw","turf","images","url","id","mapPointSelected","clearAllSelectedMapPoints","markers","setMarkers","featureCollection","setFeatureCollection","axios","get","headers","FIWARE-Service","then","res","markersList","data","featureColl","features","i","marker","location","coordinates","lng","lat","daliCommError","daliDimmingError","daliGearError","daliLampError","failure","illuminanceLevel","lightOn","mag","fillingLevel","streetAddress","address","feature","geometry","properties","color","itemId","itemType","push","catch","e","console","log","alert","accessToken","Map","container","center","zoom","nav","NavigationControl","addControl","draw","displayControlsDefault","controls","polygon","trash","on","updateArea","popup","Popup","closeButton","closeOnClick","popupMenu","getCanvas","cursor","p","html","setLngLat","setHTML","addTo","remove","mag1","mag2","mag3","mag4","mag5","mag6","mag7","mag8","mag9","mag10","createDonutChart","offsets","counts","total","fontSize","r","r0","Math","round","w","failColorLeft","donutSegment","lightColorLeft","lightColorRight","point_count","toLocaleString","el","document","innerHTML","firstChild","start","end","a0","PI","a1","x0","cos","y0","sin","x1","y1","largeArc","getAll","getElementById","area","coords","poly","forEach","pt","booleanPointInPolygon","addSource","cluster","clusterMaxZoom","clusterRadius","clusterProperties","Promise","all","img","resolve","reject","loadImage","error","addImage","addLayer","source","filter","layout","icon-image","text-allow-overlap","icon-allow-overlap","icon-size","text-field","text-font","text-size","paint","text-color","markersOnScreen","doUpdateMarkers","setInterval","updateMarkers","newMarkers","querySourceFeatures","cluster_id","Marker","element","onMove","onMoveend","onZoom","sourceId","isSourceLoaded","width","ref","position","top","left","border","borderRadius","onMapPointSelected","pointActionTypes","payload","onClearMapPointSelected","Modal_Modal","showDetails","tampere_TampereMap","VisionControls_VisionControls","App","Layout_Layout","views_CityVision_CityVision","Boolean","window","hostname","match","initialState","__webpack_require__","d","__webpack_exports__","configureStore","rootReducer","combineReducers","undefined","action","objectSpread","toConsumableArray","includes","middlewares","thunkMiddleware","middleWareEnhancer","applyMiddleware","createStore","composeWithDevTools","app","es","store","react_router_dom","src_App_0","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.242fac74.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport logoImage from '../../assets/images/Capelon.png';\r\n\r\ninterface Props {\r\n    readonly height?: number;\r\n}\r\n\r\nexport const Logo = ({ height }: Props) => (\r\n    <div className=\"logo-container\" style={{ height: height }}>\r\n        <a href=\"https://www.capelon.se/\"><img src={logoImage} alt=\"Capelon\" /></a>\r\n    </div>\r\n);\r\n","import React, { ReactNode } from 'react';\r\n\r\ninterface Props {\r\n    readonly link: string;\r\n    readonly active?: boolean;\r\n    readonly children: ReactNode;\r\n}\r\n\r\nconst navigationItem = ({ link, active, children }: Props) => (\r\n    <li className=\"navigation-item\">\r\n        <a\r\n            href={link}\r\n            className={active ? \"active\" : \"\"}>{children}</a>\r\n    </li>\r\n);\r\n\r\nexport default navigationItem;","import React from 'react';\r\n\r\nimport NavigationItem from './NavigationItem/NavigationItem';\r\n\r\nexport const NavigationItems = () => (\r\n    <ul className=\"navigation-items\">\r\n        <NavigationItem link=\"/\" active>Tampere</NavigationItem>\r\n    </ul>\r\n);\r\n\r\n","import React, { MouseEventHandler } from 'react';\r\n\r\ninterface Props {\r\n    readonly clicked: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\r\n}\r\n\r\nexport const DrawerToggle = ({ clicked }: Props) => (\r\n    <div className=\"drawer-toggle\" onClick={clicked}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n);\r\n\r\n","import React from 'react';\r\n\r\nimport { Logo } from '../../Logo/Logo';\r\n\r\nimport { NavigationItems } from '../NavigationItems/NavigationItems';\r\n\r\nimport { DrawerToggle } from '../SideDrawer/DrawerToggle/DrawerToggle';\r\n\r\ninterface Props {\r\n    drawerToggleClicked: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\r\n}\r\n\r\nexport const Toolbar = ({ drawerToggleClicked }: Props) => (\r\n    <header className=\"toolbar\">\r\n        <DrawerToggle clicked={drawerToggleClicked} />\r\n        <div className=\"logo\">\r\n            <Logo />\r\n        </div>\r\n        <nav className=\"desktopOnly\">\r\n            <NavigationItems />\r\n        </nav>\r\n    </header>\r\n);\r\n\r\n","import React from 'react';\r\n\r\nimport { Logo } from '../../Logo/Logo';\r\nimport { NavigationItems } from '../NavigationItems/NavigationItems';\r\nimport { Backdrop } from '../UI/Backdrop';\r\nimport { TrendChart } from '../../Chart/TrendChart/TrendChart';\r\n\r\ninterface Props {\r\n    readonly open: boolean;\r\n    readonly closed: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\r\n}\r\n\r\nexport const SideDrawer = ({ open, closed }: Props ) => {\r\n    let attachedClasses = [\"side-drawer\", \"close\"];\r\n    if (open) {\r\n        attachedClasses = [\"side-drawer\", \"open\"];\r\n    }\r\n    return (\r\n        <>\r\n            <div className={attachedClasses.join(' ')}>\r\n                <nav>\r\n                    <NavigationItems />\r\n                </nav>\r\n            </div>\r\n        </>\r\n    );\r\n};","import { ActionCreator, Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\n\r\nexport const SELECT_MAP_ID = 'SELECT_MAPPOINT';\r\nexport const UNSELECT_MAP_ID = 'UNSELECT_MAPPOINT';\r\nexport const CLEAR_MAP_POINTS = 'CLEAR_MAP_POINTS';\r\n\r\nexport interface MapPoint {\r\n    id: string,\r\n    address: string\r\n}\r\n\r\nexport interface MapState {\r\n    selectedMapPoints: MapPoint[];\r\n}\r\n\r\ninterface SelectMapPointAction {\r\n    type: typeof SELECT_MAP_ID\r\n    payload: MapPoint\r\n}\r\n\r\ninterface UnselectMapPointAction {\r\n    type: typeof UNSELECT_MAP_ID\r\n    payload: MapPoint\r\n}\r\n\r\ninterface ClearMapPoints {\r\n    type: typeof CLEAR_MAP_POINTS\r\n}\r\n\r\nexport type PointActionTypes = SelectMapPointAction | UnselectMapPointAction | ClearMapPoints;\r\n","import { MapPoint, SELECT_MAP_ID, UNSELECT_MAP_ID, PointActionTypes, CLEAR_MAP_POINTS } from './pointactiontypes';\r\n\r\nexport function selectMapId(mapPoint: MapPoint): PointActionTypes {\r\n\r\n    return {\r\n        type: SELECT_MAP_ID,\r\n        payload: mapPoint\r\n    }\r\n}\r\n\r\nexport function unselectMapId(mapPoint: MapPoint): PointActionTypes {\r\n    return {\r\n        type: UNSELECT_MAP_ID,\r\n        payload: mapPoint\r\n    }\r\n}\r\n\r\nexport function clearMapPoints(): PointActionTypes {\r\n    return {\r\n        type: CLEAR_MAP_POINTS\r\n    }\r\n}\r\n","import React, { Dispatch, useState, useEffect } from 'react';\r\n\r\nimport { Logo } from '../../Logo/Logo';\r\nimport { NavigationItems } from '../NavigationItems/NavigationItems';\r\nimport { Backdrop } from '../UI/Backdrop';\r\nimport { TrendChart } from '../../Chart/TrendChart/TrendChart';\r\nimport { AppState } from '../../../store';\r\nimport { connect } from 'react-redux';\r\nimport * as pointactiontypes from '../../../store/point/pointactiontypes';\r\nimport { PointActionTypes, MapPoint } from '../../../store/point/pointactiontypes';\r\nimport { selectMapId, clearMapPoints } from '../../../store/point/pointactions';\r\n\r\ninterface StateProps {\r\n    selectedMapPoints: []\r\n    //onMapPointClear: () => void\r\n    //onMapPointClear: any\r\n    //onMapPointSelected: (mapPoint: MapPoint) => void\r\n}\r\n\r\ninterface OwnProps {\r\n    onMapPointClear: () => void\r\n}\r\n\r\ninterface ActionProps {\r\n    onMapPointClear: () => void\r\n    //onMapPointClear: any\r\n    //onMapPointSelected: (mapPoint: MapPoint) => void\r\n}\r\n\r\n\r\ninterface Props {\r\n    //readonly selectMapId: typeof selectMapId;\r\n    //readonly map: MapState;\r\n\r\n    readonly open: boolean;\r\n    readonly closed: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\r\n    //onMapPointClear: () => void\r\n}\r\n\r\ninterface State {\r\n    readonly showDetails: boolean\r\n}\r\n\r\n\r\nconst ToolDrawer = ({ open, closed, selectedMapPoints }: Props & StateProps, state: State) => {\r\n\r\n    const [count, setCount] = useState(0);\r\n    const [doOpen, setDoOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (selectedMapPoints && selectedMapPoints.length) {\r\n            setDoOpen(true);\r\n        }\r\n        else {\r\n            setDoOpen(false);\r\n        }\r\n    });\r\n\r\n    let attachedClasses = [\"tool-drawer\", \"close-right\"];\r\n    if (open || doOpen) {\r\n        attachedClasses = [\"tool-drawer\", \"open-right\"];\r\n    }\r\n    return (\r\n        <>\r\n            <div className={attachedClasses.join(' ')}>\r\n                <ul>\r\n                    {selectedMapPoints.map((mapPoint, index) => {\r\n                        return <li key={index}>{mapPoint['id']} {mapPoint['address']}</li>\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: any, ownProps: any) => {\r\n    return {\r\n        selectedMapPoints: state.point.selectedMapPoints\r\n    };\r\n}\r\n\r\nconst mapDispatchToPropsnnn = (dispatch: any) => ({\r\n    onMapPointClear: () => dispatch(clearMapPoints())\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<PointActionTypes>) => {\r\n    return {\r\n        onMapPointClear: () => dispatch(clearMapPoints())\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToPropsxx = {\r\n    selectMapId,\r\n    clearMapPoints\r\n};\r\n\r\nconst mapDispatchToPropsx = (dispatch: any) => {\r\n    return {\r\n        onMapPointSelected: (mapPoint: MapPoint) => dispatch({ type: pointactiontypes.SELECT_MAP_ID, payload: mapPoint }),\r\n        onMapPointClear: () => dispatch({ type: pointactiontypes.CLEAR_MAP_POINTS })\r\n    }\r\n}\r\n\r\n\r\nexport default connect<StateProps>(mapStateToProps, mapDispatchToProps)(ToolDrawer);\r\n","import React, { useState, useEffect, Dispatch } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nimport { Action } from 'redux'\r\nimport { ThunkAction } from 'redux-thunk'\r\n\r\n\r\nimport {\r\n    Feature, FeatureCollection, GeometryCollection, LineString,\r\n    MultiLineString, MultiPoint, MultiPolygon, Point, Polygon, GeoJsonGeometryTypes,\r\n    GeoJsonTypes, GeometryObject, Geometry\r\n} from \"geojson\";\r\nimport { identifier, updateExpression } from '@babel/types';\r\n\r\n\r\nimport { MapState, MapPoint, MapActionTypes, SELECT_MAP_ID } from '../../../store/map/mapactiontypes';\r\nimport { selectMapId, unselectMapId } from '../../../store/map/mapactions';\r\nimport { AppState } from '../../../store';\r\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css'\r\nimport { EventDispatcher } from '@amcharts/amcharts4/core';\r\n\r\nvar mapboxgl = require('mapbox-gl/dist/mapbox-gl.js');\r\n\r\nvar MapboxDraw = require('@mapbox/mapbox-gl-draw');\r\nvar turf = require('@turf/turf');\r\n\r\ninterface LatLng {\r\n    lat: number,\r\n    lng: number,\r\n    radius?: number,\r\n    lampOffCnt?: number,\r\n    lampOnCnt?: number,\r\n    alarm?: boolean,\r\n    markerCnt?: number\r\n}\r\n\r\ninterface MapProps {\r\n    mapPointSelected: any,\r\n    clearAllSelectedMapPoints: any\r\n    //readonly selectMapId: typeof selectMapId,\r\n    //selectMapId: (id: string) => void;\r\n    //    readonly unselectMapId?: typeof unselectMapId,\r\n    //    readonly map?: MapState,\r\n    readonly zoom: number,\r\n    //readonly onSelectMapId: typeof selectMapId,\r\n    //onSelectMapId: any\r\n    //thunkSendMessage: any;\r\n}\r\n\r\n\r\nlet mapContainer: any;\r\n\r\nconst images = [\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/light_medium_off_commissionedok_con_error_unsel.png', id: 'lightOffError' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/light_medium_off_commissionedok_con_normal_unsel.png', id: 'lightOff' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/light_medium_on_commissionedok_con_error_unsel.png', id: 'lightOnError' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/light_medium_on_commissionedok_con_normal_unsel.png', id: 'lightOn' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/WA 1.png', id: 'wastebin' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/site_medium_off_auto_con_normal_sel.png', id: 'cabinet_auto_off' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/light_medium_on_notcommissioned_disc_normal_sel.png', id: 'ambientlightsensor' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/WA 3.png', id: 'wastebin_low' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/WA 2.png', id: 'wastebin_half' },\r\n    { url: 'http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/WA 3.png', id: 'wastebin_full' },\r\n];\r\n\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n    selectedMapPoints: state.map.selectedMapPoints\r\n});\r\n\r\n\r\nexport const TampereMap: React.SFC<MapProps> = ({ mapPointSelected, clearAllSelectedMapPoints }: MapProps) => {\r\n\r\n    const [markers, setMarkers] = useState([]);\r\n    const [featureCollection, setFeatureCollection] = useState({\r\n    });\r\n\r\n    //selectMapId('');\r\n\r\n    useEffect(() => {\r\n\r\n        if (!markers.length) {\r\n            {\r\n                let url = '';\r\n                if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n                    // dev code\r\n                    url = 'https://context.tampere.fiware.cityvision.cloud/v2/entities?limit=800&offset=0';\r\n                    url += \"&type=Streetlight%2CStreetlightControlCabinet%2CAmbientLightSensor%2CWasteContainer\";\r\n                } else {\r\n                    // production code\r\n                    url = '/v2';\r\n                }\r\n\r\n                //let url = 'https://context.pre.fiware.cityvision.cloud/v2/entities?type=Streetlight&limit=400&offset=0';\r\n                //let url = 'https://context.tampere.fiware.cityvision.cloud/v2/entities?q=dateModified%3E2019-06-05T12:48:00Z';\r\n                //let url = 'https://context.tampere.fiware.cityvision.cloud/v2/entities?limit=800&offset=0';\r\n                //url += \"&type=Streetlight%2CStreetlightControlCabinet%2CAmbientLightSensor%2CWasteContainer\";\r\n                axios.get(url,\r\n                    { 'headers': { \"FIWARE-Service\": \"tampere\" } })\r\n                    .then(res => {\r\n                        const markersList = res.data;\r\n                        //console.log(markersList);\r\n\r\n                        const featureColl: FeatureCollection = {\r\n                            type: 'FeatureCollection',\r\n                            features: []\r\n                        };\r\n\r\n                        for (let i: number = 0; i < markersList.length; i++) {\r\n\r\n                            let marker = markersList[i];\r\n                            //console.log('marker:', marker);\r\n                            let location = marker[\"location\"];\r\n                            if (location) {\r\n                                //if (location && marker.type === 'WasteContainer') {\r\n                                //  console.log('marker', marker);\r\n                                let value = location[\"value\"];\r\n                                let coordinates = value[\"coordinates\"];\r\n                                if (coordinates) {\r\n\r\n                                    let lng = coordinates[0];\r\n                                    let lat = coordinates[1];\r\n\r\n                                    let daliCommError = marker[\"daliCommError\"];\r\n                                    let daliDimmingError = marker[\"daliDimmingError\"];\r\n                                    let daliGearError = marker[\"daliGearError\"];\r\n                                    let daliLampError = marker[\"daliLampError\"];\r\n\r\n                                    let failure = 0;\r\n\r\n                                    if (!failure && daliCommError && daliCommError.value === \"on\") {\r\n                                        failure = 1;\r\n                                    }\r\n\r\n                                    if (!failure && daliDimmingError && daliDimmingError.value === \"on\") {\r\n                                        failure = 1;\r\n                                    }\r\n\r\n                                    if (!failure && daliGearError && daliGearError.value === \"on\") {\r\n                                        failure = 1;\r\n                                    }\r\n\r\n                                    if (!failure && daliLampError && daliLampError.value === \"on\") {\r\n                                        failure = 1;\r\n                                    }\r\n\r\n\r\n                                    let illuminanceLevel = marker[\"illuminanceLevel\"];\r\n                                    let intensity = marker[\"intensity\"];\r\n                                    /*\r\n                                    if (illuminanceLevel)\r\n                                        console.log(\"illuminanceLevel\", illuminanceLevel.value);\r\n                                    if (intensity)                                        \r\n                                        console.log(\"intensity\", intensity.value);\r\n                                    */\r\n\r\n                                    let lightOn = 0;\r\n                                    if (illuminanceLevel && illuminanceLevel.value > 0)\r\n                                        lightOn = 1.0;\r\n\r\n                                    let mag = 1;\r\n                                    if (!lightOn && failure)\r\n                                        mag = 2;\r\n                                    if (!lightOn && !failure)\r\n                                        mag = 3;\r\n                                    if (lightOn && !failure)\r\n                                        mag = 4;\r\n\r\n                                    // console.log(marker.type);\r\n                                    // Streetlight\r\n                                    // WasteContainer\r\n                                    // AmbientLightSensor\r\n                                    // StreetlightControlCabinet\r\n                                    if (marker.type === 'WasteContainer') {\r\n                                        mag = 5;\r\n                                        let fillingLevel = 0;\r\n                                        if (marker.fillingLevel && marker.fillingLevel.value)\r\n                                            fillingLevel = marker.fillingLevel.value;\r\n                                        /*\r\n                                                                                    > 0-49%: green\r\n                                                                                    > \r\n                                                                                    > 50-85%: yellow\r\n                                                                                    > \r\n                                                                                    > 86-100% red\r\n                                                                                    > \r\n                                        */\r\n                                        if (fillingLevel > 0)\r\n                                            mag = 8;\r\n\r\n                                        if (fillingLevel >= 0.50)\r\n                                            mag = 9;\r\n\r\n                                        if (fillingLevel >= 0.86)\r\n                                            mag = 10;\r\n\r\n                                    }\r\n\r\n\r\n                                    if (marker.type === 'StreetlightControlCabinet')\r\n                                        mag = 6;\r\n\r\n                                    if (marker.type === 'AmbientLightSensor')\r\n                                        mag = 7;\r\n\r\n                                    let streetAddress = \"\";\r\n                                    let address = marker[\"address\"];\r\n                                    if (address && address.value && address.value && address.value.streetAddress)\r\n                                        streetAddress = address.value.streetAddress;\r\n\r\n\r\n                                    const feature: Feature = {\r\n                                        id: 100 + i,\r\n                                        type: \"Feature\",\r\n                                        geometry: {\r\n                                            type: \"Point\",\r\n                                            coordinates: [lng, lat]\r\n                                        },\r\n                                        properties: {\r\n                                            color: \"#ff0000\",\r\n                                            mag: mag,\r\n                                            lightOn: lightOn,\r\n                                            failure: failure,\r\n                                            streetAddress: streetAddress,\r\n                                            itemId: marker.id,\r\n                                            itemType: marker.type\r\n                                        }\r\n                                    };\r\n\r\n                                    featureColl.features.push(feature);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        setMarkers(markersList);\r\n                        setFeatureCollection(featureColl);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log('Error:', e);\r\n                        alert('Cannot fetch data! ' + e)\r\n                    })\r\n            }\r\n        }\r\n\r\n        mapboxgl.accessToken = 'pk.eyJ1IjoiaGVpa2thIiwiYSI6ImNqd2JybzB0dzA1YXgzem53cWFwd2FnYWYifQ.dfbsP80dQFAG1iOyrQp6mg';\r\n        var map = new mapboxgl.Map({\r\n            container: mapContainer,\r\n            style: 'mapbox://styles/heikka/cjwbsr3380hes1clajwsc7m6y',\r\n            center: [23.7869773, 61.4850743],\r\n            zoom: 14\r\n        });\r\n\r\n        const nav = new mapboxgl.NavigationControl();\r\n        map.addControl(nav, 'top-right');\r\n\r\n        // draw\r\n        var draw = new MapboxDraw({\r\n            displayControlsDefault: false,\r\n            controls: {\r\n                polygon: true,\r\n                trash: true\r\n            }\r\n        });\r\n        map.addControl(draw);\r\n        map.on('draw.create', updateArea);\r\n        map.on('draw.delete', updateArea);\r\n        map.on('draw.update', updateArea);\r\n\r\n\r\n        // popup\r\n\r\n        var popup = new mapboxgl.Popup({\r\n            closeButton: false,\r\n            closeOnClick: true\r\n        });\r\n\r\n        var popupMenu = new mapboxgl.Popup({\r\n            closeButton: true,\r\n            closeOnClick: false\r\n        });\r\n\r\n        map.on('mouseenter', 'streetlight', function (e: any) {\r\n            //map.on('mouseenter', 'streetlight', function (e: any) {\r\n            // Change the cursor style as a UI indicator.\r\n            map.getCanvas().style.cursor = 'pointer';\r\n\r\n            // Populate the popup and set its coordinates\r\n            // based on the feature found.\r\n\r\n            let p: any = e.features[0].properties;\r\n\r\n            let html: string = \"\";\r\n            html += p.itemType;\r\n            html += \" \";\r\n            html += p.itemId;\r\n            html += \"<br>\";\r\n            html += p.streetAddress;\r\n            html += \"\";\r\n\r\n            popup.setLngLat(e.features[0].geometry.coordinates)\r\n                //.setHTML(e.features[0].properties.address.value.streetAddress)\r\n                .setHTML(html)\r\n                .addTo(map);\r\n        });\r\n\r\n        map.on('mouseleave', 'streetlight', function () {\r\n            map.getCanvas().style.cursor = '';\r\n            popup.remove();\r\n        });\r\n\r\n\r\n        map.on('click', 'streetlight', function (e: any) {\r\n\r\n\r\n            //map.on('mouseenter', 'streetlight', function (e: any) {\r\n            // Change the cursor style as a UI indicator.\r\n            map.getCanvas().style.cursor = 'pointer';\r\n\r\n            // Populate the popup and set its coordinates\r\n            // based on the feature found.\r\n\r\n            let p: any = e.features[0].properties;\r\n\r\n            //console.log('clicked selectMapId ', p);\r\n\r\n            //selectMapId({ id: p.itemId });\r\n            //onSelectMapId({ id: p.itemId });\r\n            //thunkSendMessage({ id: p.itemId })\r\n\r\n            mapPointSelected(p.itemId, p.streetAddress);\r\n\r\n            let html: string = \"<div class='popup-menu'>\";\r\n            html += p.itemType;\r\n            html += \" \";\r\n            html += p.itemId;\r\n            html += \"<br>\";\r\n            html += p.streetAddress;\r\n\r\n            //selectMapId(p.itemId);\r\n\r\n            html += \"<hr><a href='#'>Switch ON</a>\";\r\n            html += \"<br><a href='#'>Set work in progress</a>\";\r\n            html += \"<br><a href='#'>Change dimming group</a>\";\r\n            html += \"<br><a href='#'>Create issue</a>\";\r\n            html += \"<br><a href='#'>Show details</a>\";\r\n            html += \"</div>\";\r\n\r\n            popupMenu.setLngLat(e.features[0].geometry.coordinates)\r\n                //.setHTML(e.features[0].properties.address.value.streetAddress)\r\n                .setHTML(html)\r\n                .addTo(map);\r\n        });\r\n        /*\r\n                map.on('click', 'streetlight', function (e: any) {\r\n        \r\n                    var coordinates = e.features[0].geometry.coordinates.slice();\r\n                    //var description = e.features[0].properties.description;\r\n        \r\n                    // Ensure that if the map is zoomed out such that multiple\r\n                    // copies of the feature are visible, the popup appears\r\n                    // over the copy being pointed to.\r\n                    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n                        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\r\n                    }\r\n        \r\n                    console.log(coordinates);\r\n        \r\n                    coordinates[0] += 0.01;\r\n                    //coordinates[1] = e.lngLat.lat;\r\n        \r\n                    let p: any = e.features[0].properties;\r\n        \r\n                    let html: string = \"\";\r\n                    html += p.itemType;\r\n                    html += \" \";\r\n                    html += p.itemId;\r\n                    html += \"<br>\";\r\n                    html += p.streetAddress;\r\n        \r\n                    // e.features[0].geometry.coordinates\r\n                    popupMenu.setLngLat(coordinates)\r\n                        //.setHTML(e.features[0].properties.address.value.streetAddress)\r\n                        .setHTML(html)\r\n                        .addTo(map);\r\n                });\r\n        */\r\n\r\n        // filters for classifying streetlights into five categories based on magnitude\r\n        var mag1 = [\"<\", [\"get\", \"mag\"], 2];\r\n        var mag2 = [\"all\", [\">=\", [\"get\", \"mag\"], 2], [\"<\", [\"get\", \"mag\"], 3]];\r\n        var mag3 = [\"all\", [\">=\", [\"get\", \"mag\"], 3], [\"<\", [\"get\", \"mag\"], 4]];\r\n        var mag4 = [\"all\", [\">=\", [\"get\", \"mag\"], 4], [\"<\", [\"get\", \"mag\"], 5]];\r\n        var mag5 = [\"all\", [\">=\", [\"get\", \"mag\"], 5], [\"<\", [\"get\", \"mag\"], 6]];\r\n        var mag6 = [\"all\", [\">=\", [\"get\", \"mag\"], 6], [\"<\", [\"get\", \"mag\"], 7]];\r\n        var mag7 = [\"all\", [\">=\", [\"get\", \"mag\"], 7], [\"<\", [\"get\", \"mag\"], 8]];\r\n        var mag8 = [\"all\", [\">=\", [\"get\", \"mag\"], 8], [\"<\", [\"get\", \"mag\"], 9]];\r\n        var mag9 = [\"all\", [\">=\", [\"get\", \"mag\"], 9], [\"<\", [\"get\", \"mag\"], 10]];\r\n        var mag10 = [\">=\", [\"get\", \"mag\"], 10];\r\n\r\n        var lightOn = [\"get\", \"lightOn\"];\r\n        var failure = [\"get\", \"failure\"];\r\n\r\n        // colors to use for the categories\r\n        var colors = ['#F3F3F4', '#FFCC00', '#A20000', '#fc4e2a', '#e31a1c'];\r\n\r\n        map.on('load', function () {\r\n            // add a clustered GeoJSON source for a sample set of streetlights\r\n            map.addSource('streetlights', {\r\n                \"type\": \"geojson\",\r\n                \"data\": featureCollection,\r\n                \"cluster\": true,\r\n                \"clusterMaxZoom\": 14,\r\n                \"clusterRadius\": 55,\r\n                \"clusterProperties\": {\r\n                    \"mag1\": [\"+\", [\"case\", mag1, 1, 0]],\r\n                    \"mag2\": [\"+\", [\"case\", mag2, 1, 0]],\r\n                    \"mag3\": [\"+\", [\"case\", mag3, 1, 0]],\r\n                    \"mag4\": [\"+\", [\"case\", mag4, 1, 0]],\r\n                    \"mag5\": [\"+\", [\"case\", mag5, 1, 0]],\r\n                    \"mag6\": [\"+\", [\"case\", mag6, 1, 0]],\r\n                    \"mag7\": [\"+\", [\"case\", mag7, 1, 0]],\r\n                    \"mag8\": [\"+\", [\"case\", mag8, 1, 0]],\r\n                    \"mag9\": [\"+\", [\"case\", mag9, 1, 0]],\r\n                    \"mag10\": [\"+\", [\"case\", mag10, 1, 0]],\r\n                    \"lightOn\": [\"+\", lightOn],\r\n                    \"failure\": [\"+\", failure],\r\n                }\r\n            });\r\n\r\n            Promise.all(\r\n                images.map(img => new Promise((resolve, reject) => {\r\n                    map.loadImage(img.url, (error: any, res: any) => {\r\n                        if (error)\r\n                            throw error;\r\n\r\n                        map.addImage(img.id, res)\r\n                        resolve();\r\n                    })\r\n                }))\r\n            )\r\n                .then(() => {\r\n\r\n                    /*\r\n                                        map.addLayer({\r\n                                            id: \"clusters\",\r\n                                            type: \"circle\",\r\n                                            source: \"streetlights\",\r\n                                            filter: [\"has\", \"point_count\"],\r\n                                            paint: {\r\n                                                \"circle-radius\": {\r\n                                                    property: \"point_count\",\r\n                                                    type: \"interval\",\r\n                                                    stops: [\r\n                                                        [0, 20],\r\n                                                        [100, 30],\r\n                                                        [750, 40]\r\n                                                    ]\r\n                                                }\r\n                                            }\r\n                                        });\r\n                    */\r\n                    map.addLayer({\r\n                        id: \"streetlight\",\r\n                        type: \"symbol\",\r\n                        source: \"streetlights\",\r\n                        filter: [\"!\", [\"has\", \"point_count\"]],\r\n                        layout: {\r\n                            //\"icon-image\": \"normal\",\r\n                            \"icon-image\": [\"case\",\r\n                                mag1, \"lightOnError\",\r\n                                mag2, \"lightOffError\",\r\n                                mag3, \"lightOff\",\r\n                                mag4, \"lightOn\",\r\n                                mag5, \"wastebin\",\r\n                                mag6, \"cabinet_auto_off\",\r\n                                mag7, \"ambientlightsensor\",\r\n                                mag8, \"wastebin_low\",\r\n                                mag9, \"wastebin_half\",\r\n                                mag10, \"wastebin_full\",\r\n                                \"lightOn\"],\r\n                            \"text-allow-overlap\": true,\r\n                            \"icon-allow-overlap\": true,\r\n                            \"icon-size\": 1.00\r\n                        }\r\n                    });\r\n                });\r\n\r\n            // circle and symbol layers for rendering individual streetlights (unclustered points)\r\n            /*\r\n            map.addLayer({\r\n                \"id\": \"earthquake_circle\",\r\n                \"type\": \"circle\",\r\n                \"source\": \"streetlights\",\r\n                \"filter\": [\"!=\", \"cluster\", true],\r\n                \"paint\": {\r\n                    \"circle-color\": [\"case\",\r\n                        mag1, colors[0],\r\n                        mag2, colors[1],\r\n                        mag3, colors[2],\r\n                        mag4, colors[3], colors[4]],\r\n                    \"circle-opacity\": 0.6,\r\n                    \"circle-radius\": 12\r\n                }\r\n            });\r\n            */\r\n            map.addLayer({\r\n                \"id\": \"streetlights_label\",\r\n                \"type\": \"symbol\",\r\n                \"source\": \"streetlights\",\r\n                \"filter\": [\"!=\", \"cluster\", true],\r\n                \"layout\": {\r\n                    \"text-field\": \"{point_count_abbreviated}\",\r\n                    \"text-font\": [\"Open Sans Semibold\", \"Arial Unicode MS Bold\"],\r\n                    \"text-size\": 10\r\n                },\r\n                \"paint\": {\r\n                    \"text-color\": [\"case\", [\"<\", [\"get\", \"mag\"], 3], \"black\", \"white\"]\r\n                }\r\n            });\r\n\r\n            // objects for caching and keeping track of HTML marker objects (for performance)\r\n            var markers: any = {};\r\n            var markersOnScreen: any = {};\r\n            let doUpdateMarkers = false;\r\n\r\n            let timer = setInterval(checkUpdateMarkers, 1000);\r\n\r\n            function checkUpdateMarkers() {\r\n                if (doUpdateMarkers) {\r\n                    updateMarkers();\r\n                    doUpdateMarkers = false;\r\n                }\r\n            }\r\n\r\n            const updateMarkers = () => {\r\n\r\n                //console.log(new Date(), 'updateMarkers');\r\n                var newMarkers: any = {};\r\n                var features = map.querySourceFeatures('streetlights');\r\n\r\n                //console.log('features', features);\r\n\r\n                // for every cluster on the screen, create an HTML marker for it (if we didn't yet),\r\n                // and add it to the map if it's not there already\r\n                for (var i = 0; i < features.length; i++) {\r\n                    var coords = features[i].geometry.coordinates;\r\n                    var props = features[i].properties;\r\n                    if (!props.cluster) continue;\r\n                    var id = props.cluster_id;\r\n\r\n                    var marker = markers[id];\r\n                    if (!marker) {\r\n                        var el = createDonutChart(props);\r\n                        marker = markers[id] = new mapboxgl.Marker({ element: el }).setLngLat(coords);\r\n                    }\r\n                    newMarkers[id] = marker;\r\n\r\n                    if (!markersOnScreen[id])\r\n                        marker.addTo(map);\r\n                }\r\n                // for every marker we've added previously, remove those that are no longer visible\r\n                for (id in markersOnScreen) {\r\n                    if (!newMarkers[id])\r\n                        markersOnScreen[id].remove();\r\n                }\r\n                markersOnScreen = newMarkers;\r\n            }\r\n\r\n            function onMove(e: any) {\r\n                //console.log('onMove');\r\n                doUpdateMarkers = true;\r\n                //updateMarkers();\r\n            }\r\n\r\n            function onMoveend(e: any) {\r\n                //console.log('onMoveend');\r\n                doUpdateMarkers = true;\r\n                //updateMarkers();\r\n            }\r\n\r\n            function onZoom(e: any) {\r\n                //console.log('onZoom', e);\r\n                //updateMarkers();\r\n            }\r\n\r\n            // after the GeoJSON data is loaded, update markers on the screen and do so on every map move/moveend\r\n            map.on('data', function (e: any) {\r\n                if (e.sourceId !== 'streetlights' || !e.isSourceLoaded) return;\r\n\r\n                //console.log('on data', map);\r\n\r\n                map.on('move', onMove);\r\n                map.on('moveend', onMoveend);\r\n                map.on('zoom', onZoom);\r\n                updateMarkers();\r\n            });\r\n            /*\r\n                        map.on('mousemove', function (e: any) {\r\n            \r\n                            var features = map.queryRenderedFeatures(e.point, {\r\n                                layers: ['clusters']\r\n                            })\r\n            \r\n                            if (features.length)\r\n                                //console.log('features', features);\r\n            \r\n                                var cluster_id = features[0].properties.cluster_id;\r\n                                if (cluster_id) {\r\n                                    console.log('cluster_id', cluster_id);\r\n                                    //var all_features = cluster.getLeaves(cluster_id, Math.floor(map.getZoom()), limit = Infinity);\r\n                                    //console.log(all_features);\r\n                                }\r\n                        });\r\n            */\r\n\r\n        });\r\n\r\n        // code for creating an SVG donut chart from feature properties\r\n        function createDonutChart(props: any) {\r\n            //console.log(props);\r\n            var offsets = [];\r\n            //console.log('props', props);\r\n            var counts = [props.mag1, props.mag2, props.mag3, props.mag4, props.mag5, props.mag6, props.mag7, props.mag8, props.mag9, props.mag10];\r\n            var total = 0;\r\n            for (var i = 0; i < counts.length; i++) {\r\n                offsets.push(total);\r\n                total += counts[i];\r\n            }\r\n            var fontSize = total >= 1000 ? 22 : total >= 100 ? 20 : total >= 10 ? 18 : 16;\r\n            var r = total >= 1000 ? 50 : total >= 100 ? 32 : total >= 10 ? 24 : 18;\r\n            var r0 = Math.round(r * 0.6);\r\n            var w = r * 2;\r\n            //onmouseover=\"alert(1)\" \r\n            var html = '<svg width=\"' + w + '\" height=\"' + w + '\" viewbox=\"0 0 ' + w + ' ' + w +\r\n                '\" text-anchor=\"middle\" style=\"font: ' + fontSize + 'px sans-serif\">';\r\n            /*\r\n            for (i = 0; i < counts.length; i++) {\r\n                html += donutSegment(offsets[i] / total, (offsets[i] + counts[i]) / total, r, r0, colors[i]);\r\n            }\r\n            */\r\n\r\n\r\n            // FAILURES\r\n            //            let failColorLeft = '#F3F3F4';\r\n            //            let failColorRight = '#F3F3F4';\r\n            let failColorLeft = '#cacace';\r\n            let failColorRight = '#cacace';\r\n\r\n            /*            if (props.failure === props.point_count) {\r\n                            failColorRight = '#A20000';\r\n                            failColorLeft = '#A20000';\r\n                        }\r\n                        else {\r\n                            if (props.failure > 0) {\r\n                                failColorLeft = '#A20000';\r\n                            }\r\n                        }\r\n            */\r\n            if (props.failure > 0) {\r\n                failColorLeft = '#A20000';\r\n            }\r\n            html += donutSegment(0.25, 0.5, r, r0, failColorRight);\r\n            html += donutSegment(0.5, 0.75, r, r0, failColorLeft);\r\n\r\n            // LIGHT ON\r\n            let lightColorLeft = '#cacace';\r\n            let lightColorRight = '#cacace';\r\n            if (props.lightOn === props.point_count) {\r\n                lightColorRight = '#FFCC00';\r\n                lightColorLeft = '#FFCC00';\r\n            }\r\n            else {\r\n                if (props.lightOn > 0) {\r\n                    lightColorLeft = '#FFCC00';\r\n                }\r\n            }\r\n\r\n            html += donutSegment(0.75, 1.0, r, r0, lightColorLeft);\r\n            html += donutSegment(0, 0.25, r, r0, lightColorRight);\r\n\r\n            html += '<circle cx=\"' + r + '\" cy=\"' + r + '\" r=\"' + r0 +\r\n                '\" fill=\"#225A9A\" /><text dominant-baseline=\"central\" fill=\"#ffffff\" transform=\"translate(' +\r\n                r + ', ' + r + ')\">' + total.toLocaleString() + '</text></svg>';\r\n\r\n            //html = '<img src=\"http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/blank_4.png\" width=\"'+(2*r)+'\" height=\"auto\" />';\r\n            //html = '<div style=\"background-image: url(http://com.capelon.city-vision.s3-website.eu-north-1.amazonaws.com/images/blank_4.png); background-repeat: no-repeat; width='+r+'px height='+r+'px></div>';\r\n            var el = document.createElement('div');\r\n            el.innerHTML = html;\r\n            return el.firstChild;\r\n        }\r\n\r\n        function donutSegment(start: number, end: number, r: number, r0: number, color: string) {\r\n            if (end - start === 1) end -= 0.00001;\r\n            var a0 = 2 * Math.PI * (start - 0.25);\r\n            var a1 = 2 * Math.PI * (end - 0.25);\r\n            var x0 = Math.cos(a0), y0 = Math.sin(a0);\r\n            var x1 = Math.cos(a1), y1 = Math.sin(a1);\r\n            var largeArc = end - start > 0.5 ? 1 : 0;\r\n\r\n            return ['<path d=\"M', r + r0 * x0, r + r0 * y0, 'L', r + r * x0, r + r * y0,\r\n                'A', r, r, 0, largeArc, 1, r + r * x1, r + r * y1,\r\n                'L', r + r0 * x1, r + r0 * y1, 'A',\r\n                r0, r0, 0, largeArc, 0, r + r0 * x0, r + r0 * y0,\r\n                '\" fill=\"' + color + '\" stroke=\"#343332\" stroke-width=\"0.2\" stroke-opacity=\"1\" />'].join(' ');\r\n        }\r\n\r\n        function updateArea(e: any) {\r\n\r\n            var data = draw.getAll();\r\n\r\n            var answer = document.getElementById('calculated-area');\r\n            if (data.features.length > 0) {\r\n                var area = turf.area(data);\r\n                // restrict to area to 2 decimal points\r\n                // var rounded_area = Math.round(area * 100) / 100;\r\n\r\n                for (var i = 0; i < data.features.length; i++) {\r\n                    var coords = data.features[i]['geometry']['coordinates'];\r\n                    var poly = turf.polygon(coords);\r\n\r\n                    markers.forEach(marker => {\r\n\r\n                        let location = marker[\"location\"];\r\n                        if (location) {\r\n                            let value = location[\"value\"];\r\n                            let coordinates = value[\"coordinates\"];\r\n                            if (coordinates) {\r\n                                var pt = turf.point(coordinates);\r\n                                var inside = turf.booleanPointInPolygon(pt, poly);\r\n                                if (inside) {\r\n                                    let streetAddress = \"\";\r\n                                    let address = marker[\"address\"];\r\n                                    if (address && address['value'] && address['value']['streetAddress'])\r\n                                        streetAddress = address['value']['streetAddress'];\r\n            \r\n                                    mapPointSelected(marker['id'], streetAddress);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    //var point = [23.785732755030665, 61.48981673858984];\r\n                    //var pt = turf.point(point);\r\n                    //var poly = turf.polygon(coords);\r\n\r\n                    //var inside = turf.booleanPointInPolygon(pt, poly);\r\n                }\r\n\r\n                //console.log('booleanPointInPolygon', turf.booleanPointInPolygon(pt, poly));\r\n\r\n            }\r\n        }\r\n\r\n\r\n    });\r\n\r\n    return (\r\n        <div style={{ width: '100%', height: '100%' }}>\r\n            <div ref={el => mapContainer = el} className=\"absolute top right left bottom\" style={{ width: '100%', height: '100%' }} />\r\n            <button onClick={clearAllSelectedMapPoints} style={ { position: \"absolute\", top: 75, left: 10, border: 0,borderRadius: 10, height: 30, cursor: 'pointer'} }>Clear selections</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n    //mapDispatchToProps\r\n)(TampereMap);\r\n","import React, { Component } from 'react';\r\n\r\nimport { Toolbar } from '../../components/Navigation/Toolbar/Toolbar';\r\nimport { SideDrawer } from '../../components/Navigation/SideDrawer/SideDrawer';\r\nimport TrendChart from '../../components/Chart/TrendChart/TrendChart';\r\nimport ToolDrawer from '../../components/Navigation/ToolDrawer/ToolDrawer';\r\n\r\ninterface State {\r\n    readonly showSideDrawer: boolean,\r\n    readonly showToolDrawer: boolean\r\n}\r\n\r\nexport class Layout extends Component {\r\n    state: State = {\r\n        showSideDrawer: false,\r\n        showToolDrawer: false\r\n    }\r\n\r\n    sideDrawerClosedHandler = () => {\r\n        this.setState({ showSideDrawer: false });\r\n    }\r\n\r\n    sideDrawerToggleHandler = () => {\r\n        this.setState((prevState: State) => {\r\n            return { showSideDrawer: !prevState.showSideDrawer };\r\n        });\r\n    }\r\n\r\n    toolDrawerClosedHandler = () => {\r\n        this.setState({ showToolDrawer: false });\r\n    }\r\n\r\n    toolDrawerToggleHandler = () => {\r\n        this.setState((prevState: State) => {\r\n            return { showToolDrawer: !prevState.showToolDrawer };\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Toolbar drawerToggleClicked={this.sideDrawerToggleHandler} />\r\n                <SideDrawer\r\n                    open={this.state.showSideDrawer}\r\n                    closed={this.sideDrawerClosedHandler} />\r\n                <ToolDrawer\r\n                    open={this.state.showToolDrawer}\r\n                    closed={this.toolDrawerClosedHandler} />\r\n                <main className=\"content\">\r\n                    {this.props.children}\r\n                </main>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport const VisionControls = () => (\r\n    <div>\r\n    </div>\r\n);\r\n","import React from 'react';\r\n\r\ninterface Props {\r\n    readonly show: boolean;\r\n    readonly clicked?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\r\n}\r\n\r\nexport const Backdrop = ({ show, clicked }: Props) => (\r\n    show ? <div className=\"backdrop\" onClick={clicked}></div> : null\r\n);\r\n\r\n","import React, { Component, ReactNode } from 'react';\r\nimport { Backdrop } from '../../Navigation/UI/Backdrop';\r\n\r\ninterface Props {\r\n    readonly show: boolean;\r\n    readonly modalClosed?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\r\n    readonly children?: ReactNode;\r\n}\r\n\r\nexport const Modal = ({ show, modalClosed, children }: Props) => (\r\n\r\n    /*\r\n    shouldComponentUpdate ( nextProps, nextState ) {\r\n        return nextProps.show !== this.props.show;\r\n    }\r\n*/\r\n\r\n    <>\r\n        <Backdrop show={show} clicked={modalClosed} />\r\n        <div\r\n            className=\"modal\"\r\n            style={{\r\n                transform: show ? 'translateY(0)' : 'translateY(-100vh)',\r\n                opacity: show ? 1 : 0\r\n            }}>\r\n            {children}\r\n        </div>\r\n    </>\r\n);\r\n\r\n","import React, { Component, Dispatch } from 'react';\r\n\r\nimport { VisionControls } from '../../components/Vision/VisionControls/VisionControls';\r\nimport { Vision } from '../../components/Vision/Vision';\r\nimport { Modal } from '../../components/UI/Modal/Modal';\r\nimport TampereMap from '../../components/maps/tampere/TampereMap';\r\nimport { connect } from 'react-redux';\r\nimport * as mapactiontypes from '../../store/map/mapactiontypes';\r\nimport { MapActionTypes, MapPoint } from '../../store/map/mapactiontypes';\r\nimport { PointActionTypes } from '../../store/point/pointactiontypes';\r\nimport  * as pointActionTypes from '../../store/point/pointactiontypes';\r\n\r\nexport interface OwnProps {\r\n    onMapPointSelected: (mapPoint: MapPoint) => void,\r\n    onClearMapPointSelected: () => void\r\n}\r\n\r\ninterface StateProps {\r\n    propFromReduxStore: string\r\n}\r\n\r\ninterface DispatchProps {\r\n    onSomeEvent: () => void \r\n}\r\n\r\ntype Props = StateProps & DispatchProps & OwnProps\r\n\r\n/*\r\ninterface Props {\r\n    onMapPointSelected: (mapPoint: MapPoint) => void\r\n}\r\n*/\r\ninterface State {\r\n    readonly showDetails: boolean\r\n}\r\n\r\n\r\nconst CityVision = ({onMapPointSelected, onClearMapPointSelected}: OwnProps, state: State) => {\r\n    return (\r\n        <>\r\n            <Modal show={state.showDetails}>\r\n                Site details\r\n                </Modal>\r\n            <TampereMap\r\n                zoom={10}\r\n                mapPointSelected={onMapPointSelected}\r\n                clearAllSelectedMapPoints={onClearMapPointSelected}\r\n            //selectMapId={this.selectMapIdHandler}\r\n            />\r\n            <VisionControls />\r\n        </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state: any, ownProps: any) => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<PointActionTypes>) => {\r\n    return {\r\n        onMapPointSelected: (id: string, address: string) => dispatch({ type: pointActionTypes.SELECT_MAP_ID, payload: { id: id, address: address}  }),\r\n        onClearMapPointSelected: (mapPoint: MapPoint) => dispatch({ type: pointActionTypes.CLEAR_MAP_POINTS })\r\n    }\r\n}\r\n\r\n/*\r\nconst mapDispatchToProps = (dispatch: Dispatch<MapActionTypes>) => {\r\n    return {\r\n        onMapPointSelected: (mapPoint: MapPoint) => dispatch({ type: mapactiontypes.SELECT_MAP_ID, payload: mapPoint })\r\n    }\r\n}\r\n*/\r\n\r\nexport default connect<OwnProps>(mapStateToProps, mapDispatchToProps)(CityVision);\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { Layout } from './hoc/Layout/Layout';\r\nimport CityVision from './views/CityVision/CityVision';\r\n\r\nconst App: React.FunctionComponent = (): JSX.Element => {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Layout>\r\n        <CityVision />\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Reducer } from 'redux';\r\n\r\nimport {\r\n    MapState,\r\n    MapActionTypes,\r\n    SELECT_MAP_ID,\r\n    UNSELECT_MAP_ID\r\n} from './mapactiontypes';\r\n\r\n\r\nconst initialState: MapState = {\r\n    selectedMapPoints: []\r\n}\r\n\r\nexport const mapreducer: Reducer<MapState, MapActionTypes>  = (state = initialState, action: MapActionTypes)=> {\r\n\r\n    switch (action.type) {\r\n        case SELECT_MAP_ID:\r\n            return {\r\n                ...state,\r\n                selectedMapPoints: [...state.selectedMapPoints, action.payload]\r\n            };\r\n        case UNSELECT_MAP_ID:\r\n            return {\r\n                selectedMapPoints: state.selectedMapPoints.filter(\r\n                    mapPoint => mapPoint.id !== action.payload.id\r\n                )\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { Reducer } from 'redux';\r\n\r\nimport {\r\n    MapState,\r\n    PointActionTypes,\r\n    SELECT_MAP_ID,\r\n    UNSELECT_MAP_ID,\r\n    CLEAR_MAP_POINTS\r\n} from './pointactiontypes';\r\n\r\nconst initialState: MapState = {\r\n    selectedMapPoints: []\r\n}\r\n\r\nexport const pointreducer: Reducer<MapState, PointActionTypes> = (state = initialState, action: PointActionTypes) => {\r\n\r\n    switch (action.type) {\r\n        case SELECT_MAP_ID:\r\n\r\n            if (state.selectedMapPoints.includes(action.payload)) {\r\n                return state;\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                selectedMapPoints: [...state.selectedMapPoints, action.payload]\r\n            }\r\n        case UNSELECT_MAP_ID:\r\n            return {\r\n                selectedMapPoints: state.selectedMapPoints.filter(\r\n                    mapPoint => mapPoint.id !== action.payload.id\r\n                )\r\n            }\r\n        case CLEAR_MAP_POINTS:\r\n            return {\r\n                ...state,\r\n                selectedMapPoints: []\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunkMiddleware from \"redux-thunk\";\n\nimport { mapreducer } from './store/map/mapreducers';\nimport { doSelectMapId } from './store/map/mapactiontypes';\nimport { selectMapId } from './store/map/mapactions';\nimport { pointreducer } from './store/point/pointreducers';\n\n//const composeEnhancers = process.env.NODE_ENV === 'development' ? composeWithDevTools as typeof compose : null || compose;\n\nconst rootReducer = combineReducers({\n    map: mapreducer,\n    point: pointreducer\n});\n\n/*\nconst store = createStore(rootReducer, composeEnhancers(\n    applyMiddleware(thunk)\n));\n*/\nexport type AppState = ReturnType<typeof rootReducer>;\n\nexport default function configureStore() {\n    const middlewares = [thunkMiddleware];\n    const middleWareEnhancer = applyMiddleware(...middlewares);\n  \n    const store = createStore(\n      rootReducer,\n      composeWithDevTools(middleWareEnhancer)\n    );\n  \n    return store;\n  }\n  \n\nconst app = (\n    <Provider store={configureStore()}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { ActionCreator, Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\n\r\nexport const SELECT_MAP_ID = 'SELECT_MAP_ID';\r\nexport const UNSELECT_MAP_ID = 'UNSELECT_MAP_ID';\r\n\r\nexport interface MapPoint {\r\n    id: string,\r\n    address: string\r\n}\r\n\r\nexport interface MapState {\r\n    selectedMapPoints: MapPoint[];\r\n}\r\n\r\ninterface SelectMapIdAction {\r\n    type: typeof SELECT_MAP_ID\r\n    payload: MapPoint\r\n}\r\n\r\ninterface UnselectMapIdAction {\r\n    type: typeof UNSELECT_MAP_ID\r\n    payload: MapPoint\r\n}\r\n\r\nexport type MapActionTypes = SelectMapIdAction | UnselectMapIdAction;\r\n\r\nexport const doSelectMapId: ActionCreator<\r\n  ThunkAction<Promise<any>, MapState, null, SelectMapIdAction>\r\n> = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    try {\r\n      //const response = await axios.get('https://swapi.co/api/people/');\r\n      dispatch({\r\n        id: 'XYZ123',\r\n        type: SELECT_MAP_ID,\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n};","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}